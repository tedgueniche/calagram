<!doctype html>
<head>
  <meta charset="utf-8">

  <title>User Management</title>
  <meta name="viewport" content="width=device-width">
  <link rel="stylesheet" href="css/reset.css">
  <link rel="stylesheet" href="css/styles.css">
  <script type="text/javascript" src="http://ajax.googleapis.com/ajax/libs/jquery/1.7.2/jquery.min.js"></script>
  <script type="text/javascript" src="http://www.parsecdn.com/js/parse-1.4.0.min.js"></script>
</head>

<body>
  
  <div id="register">
    <h2>Register</h2>

    <form class="users">
    <ul>
      <li><label>Username</label><input type="text"/></li>
      <li><label>Password</label><input type="text"/></li>
      <li><label>Email</label><input type="text"/></li>
      <li><input type="submit"/></li>
    </ul>
    </form>

  <div id="login">

  </div>

  <div id="list">
      <h2>Users</h2>
      <ul class="list"></ul>
  </div>

  <script type="text/javascript">
    Parse.initialize("ys5UyXPlnROWsyYpj0CVJrHU91ec0rUCI0nqOOgN", "ir93DLRDxNxhjgTDbU5VP6yuD1Pqg8qekvQ0Js4q");

    function error(user, error) {
      alert("Error: " + error.code + " " + error.message);
    }  

    function makeLi(cssId,cssClass,content) {
        return "<li id='"+ cssId +"' class='"+ cssClass +"'>"+ content +"</li>";
    }

    function UserManager() {
      $('')

    }

    UserManager.prototype.add(function() {

    });

    UserManager.prototype.list = function() {

      var User = Parse.Object.extend("User");
      var query = new Parse.Query(User);
      query.find({
        success: function() {
          
          var html = "";

          //for each users
          for(var i = 0; i < users.length; i++) {
            var user = users[i];
            console.log(user);

            //show each attribute
            html += "<li class='userRow'><ul>";
            for(col in user.attributes) {
              html += makeLi("","userCol", user.attributes[col]);
            }
            html += "</ul></li>"; 
          }

          //push in HTML
          $('#list .list').html(html);
        },
        error: error
      });
    };



    //List users
    var userManager = new UserManager();
    //userManager.list(function(users) {
      var html = "";

      //for each users
      for(var i = 0; i < users.length; i++) {
        var user = users[i];
        console.log(user);

        //show each attribute
        html += "<li class='userRow'><ul>";
        for(col in user.attributes) {
          html += makeLi("","userCol", user.attributes[col]);
        }
        html += "</ul></li>"; 
      }

      //push in HTML
      $('#list .list').html(html);

    },error);




/*
    function User() {};
    User.prototype.name = "";
    User.prototype.loadFromId = function() {
      var 
    }
*/

    /* ADD USER
    var user = new Parse.User();
    user.set("username", "T3D");
    user.set("password", "123456");
    user.set("email", "ted.gueniche@gmail.com");

    // other fields can be set just like with Parse.Object
    user.set("phone", "555-374-0810");
    user.set("firstName", "Ted");
    user.set("lastName", "Gueniche");
    user.set("location", "Chicago,IL,US");

    user.signUp(null, {
      success: function(user) {
        alert('Saved!');
      },
      error: function(user, error) {
        // Show the error message somewhere and let the user try again.
        alert("Error: " + error.code + " " + error.message);
      }
    });
    */

    /*
    var EventStream = Parse.Object.extend("EventStream");
    var ev = new EventStream();
    ev.set("organisationId","");
    ev.set("name","Nebraska<br/>Pelicans<br/>vs.<br/>Sacramento</br>Kings");
    ev.set("description", "Lorem ipsum dolor sit amet, consectetur adipiscing elit. Vivamus vehicula maximus augue viverra accumsan. Ut luctus quis ex ac viverra. Mauris egestas ligula eu turpis euismod lacinia. Fusce cursus quam nec vestibulum mollis. ")
    ev.set("attendingCount",8552);
    ev.set("zip","95831");
    ev.set("venue","Sleep Train Arena");
    ev.set("location","Sacramento,CA,US");
    ev.set("start",new Date(2015,08,12,20,00,0));
    ev.set("end",new Date(2015,08,12,22,30,0));
    ev.set("announcement","what do you think are #Pelicans chances of claiming the No. 8 spot now?");

    ev.save(null, {
      success: function(user) {
          alert('Saved!');
      },
      error: function(user, error) {
          // Show the error message somewhere and let the user try again.
          alert("Error: " + error.code + " " + error.message);
      }
    })
    */


    /*
    var Organisation = Parse.Object.extend("Organisation");
    var org = new Organisation();
    org.set("name","Creighton University");
    org.set("zip","68102");
    org.set("location","Omaha,NE,US");
    org.set("followersCount",11084);
    org.save(null, {
      success: function(user) {
          alert('Saved!');
      },
      error: function(user, error) {
          // Show the error message somewhere and let the user try again.
          alert("Error: " + error.code + " " + error.message);
      }
    });
    */

  </script>
</body>

</html>
